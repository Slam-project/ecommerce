{% extends "::base.html.twig" %}

{% block body %}
    <div class="container" style="margin-top: 20px;">
        {% if commandes is defined %}
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">

            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                <h4>Date d'achat</h4>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                <h4>Prix HT</h4>
            </div>

            {% for commande in commandes %}
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                    Commande numéro {{ commande.id }}
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                    {{ commande.datePayement|date('d/m/Y') }}
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                    {% set price = 0 %}
                    {% for detailsCommand in commande.detailsCommands %}
                        {% set price = price + detailsCommand.price * detailsCommand.quantite %}
                    {% endfor %}
                    {{ price }} €
                </div>
                <hr>
            {% endfor %}
        {% else %}
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <h3>Aucun historique des commandes n'est enregistré</h3>
            </div>
        {% endif %}
    </div>
    <div class="barre2"></div>
{% endblock %}

